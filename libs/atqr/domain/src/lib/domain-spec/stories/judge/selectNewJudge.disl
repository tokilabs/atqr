
context Challenge

entity Challenge
  üí¨ AskPlayerForNewJudge? :challenge
      listening:
      - RejectedParticipateJudgeRequest!

    @NotificationService.SelectNewJudge

    ‚è∞ NewDayStarted!
      if(pass X days send again, if pass Y days cancel)

    üì£ AskedPlayerForNewJudge!




  üí¨ RequestJudgeParticipation? :challenge :contactJudge

    @NotificationService.SupervisionRequested
    this.addInvite

    ‚è∞ NewDayStarted!
      if(pass X days send again, if pass Y days cancel)

    üì£ RequestedJudgeParticipation!



  addInvite? :contactJudge

  invitee = new Invitee(contactJudge)
  invitee.participationStatus = participationStatus.requested

  this.invitees.push(invitee)



service NotificationService

  AskPlayerForNewJudge? :challenge
    sendEmail
      template: emailAskPlayerForNewJudge
      data: Challenge
      to: challenge.player



  RequestJudgeParticipation? :challenge :contactJudge
    sendEmail
      template: emailRequestJudgeParticipation
      data: Challenge
      to: contactJudge

